# Техническое задание на разработку ИИ-продукта iSANM

## 1. Введение

**iSANM (Information System for Analysis of Nanoparticle Morphology)** — веб-система для анализа морфологии наночастиц в коллоидных структурах. Этот документ описывает функциональные, технические и ИИ-компоненты системы, а также процедуры развертывания и валидации.

---

## 2. Цели ИИ-продукта

* Автоматизация анализа морфологии наночастиц.
* Организация работы пользователей через тематические папки.
* Поддержка загрузки и хранения изображений (PNG, JPEG) и текстовых файлов.
* Запуск различных методов анализа, включая идентификацию кластеров.
* Сохранение результатов всех методов анализа.
* Визуализация исходных данных и результатов.

---

## 3. Пользовательские интерфейсы

| Интерфейс                  | Функции                                                                                                                                      |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| Веб-интерфейс              | Регистрация/авторизация через ORCID, создание и управление папками, загрузка файлов, выбор метода анализа, просмотр и скачивание результатов |
| REST API                   | Программная работа с папками и файлами, загрузка данных, получение результатов в JSON                                                        |
| Административный интерфейс | Управление пользователями, просмотр логов, контроль состояния модели                                                                         |

---

## 4. Взаимодействие с внешними системами

* **Roboflow API** — интеграция YOLOv8 для модуля идентификации кластеров.
* **MSSQL Server 2022** — хранение пользователей, папок, файлов и результатов анализа.
* **OAuth через ORCID** — авторизация пользователей.

---

## 5. Архитектура системы и модули

**Модули системы:**

1. **Модуль управления данными** — создание/управление папками, загрузка изображений и текстовых файлов, организация и хранение результатов.
2. **Модуль хранения данных** — файловое хранилище и MSSQL Server 2022.
3. **Модуль анализа (ИИ)** — основной метод: идентификация кластеров с YOLOv8 через Roboflow API; получение координат и классов объектов; возможность расширения другими методами анализа.
4. **Модуль визуализации** — генерация исходных изображений с выделенными кластерами, отображение результатов пользователю.
5. **Модуль администрирования** — управление пользователями, просмотр логов и статистики.

---

## 6. Модуль идентификации кластеров (ключевой ИИ-метод)

* **Модель:** YOLOv8 через Roboflow API
* **Функционал:** детектирование кластеров наночастиц на изображениях
* **Метрики качества:** mAP, Precision, Recall
* **Требования к данным:** аннотированные изображения PNG/JPEG + JSON/YOLO Label
* **Методы обучения:** supervised learning на подготовленном датасете
* **Процедуры тестирования:** юнит, интеграционные тесты, функциональное и нагрузочное тестирование

---

## 7. Методы обучения и требования к данным (для всех ИИ-методов)

* Аннотированные изображения для всех методов, где применимо машинное обучение
* Формат: PNG/JPEG + JSON/YOLO Label
* Объем: достаточный для достижения заданных метрик качества

---

## 8. Валидация и тестирование

* Юнит-тесты для модулей загрузки и хранения
* Интеграционные тесты взаимодействия с Roboflow API
* Функциональное тестирование веб-интерфейса
* Нагрузочное тестирование при массовой загрузке файлов

---

## 9. Развертывание и подготовка

* **Основной вариант:** VDS-сервер (Windows/Linux)
* **Альтернатива:** Docker-контейнеризация

**Подготовка к развертыванию:**

1. Установка MSSQL Server 2022
2. Настройка домена и SSL
3. Развёртывание ASP.NET Core приложения
4. Настройка Roboflow API (API key)
5. Регистрация приложения в ORCID
6. Тестовый прогон системы

---

## 10. Примечания

* Модуль идентификации кластеров — ключевой ИИ-компонент, остальные функции обеспечивают инфраструктуру и работу пользователей.
* Система рассчитана на исследователей и инженеров лаборатории.
* Пользователи могут работать с папками, изображениями, текстовыми файлами и результатами всех методов анализа.
